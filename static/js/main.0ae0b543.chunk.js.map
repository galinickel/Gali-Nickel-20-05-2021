{"version":3,"sources":["apis/weather.js","services/storage.service.js","store/actions/index.js","cmps/List.js","cmps/GetUserLocation.js","cmps/SearchBar.js","cmps/WeatherDisplay.js","views/Weather.js","views/Favorites.js","cmps/Header.js","App.js","store/reducers/selectedCityReducer.js","store/reducers/favoritesReducer.js","store/reducers/index.js","store/reducers/cityListReducer.js","store/reducers/weatherReducer.js","store/reducers/unitReducer.js","store/reducers/modeReducer.js","index.js"],"names":["KEY","SEARCH_URL","WEATHER_URL","GEOLOCATION_URL","weatherAPI","query","getWeather","getCityFromGeolocation","term","a","axios","get","then","res","data","city","Key","lat","lng","storageService","getById","entityType","entityId","entities","find","entity","id","post","newEntity","_makeId","unshift","_save","remove","idx","findIndex","splice","saveToStorage","key","value","localStorage","setItem","JSON","stringify","loadFromStorage","getItem","parse","undefined","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","toggleUnit","dispatch","type","toggleMode","setCurrCity","payload","List","props","useDispatch","cityList","useSelector","state","useState","favoritesToDisplay","setFavoritesToDisplay","listType","useEffect","toggleFavoriteCity","favorites","cityInFavorites","favoriteCity","LocalizedName","toggleFavorite","renderContents","renderArr","map","isInFavorites","className","onClick","onSelect","tabIndex","Country","ID","toLowerCase","GetUserLocation","dayMode","msg","setMsg","success","position","coords","latitude","longtitude","error","err","console","log","navigator","geolocation","getCurrentPosition","class","SearchBar","setCity","display","setDisplay","wrapperRef","useRef","currCity","document","addEventListener","handleOutsideClick","removeEventListener","ev","wrap","current","contains","target","onSearchType","preventDefault","letter","nativeEvent","letterCode","charCodeAt","db","debouncedDispatch","ref","placeholder","onChange","style","transform","WeatherDisplay","icon","unit","weather","msgHeader","setMsgHeader","code","DailyForecasts","Day","Icon","Night","setTimeout","renderDegrees","dayNum","degrees","Temperature","Maximum","Value","Minimum","day","message","ShortPhrase","Date","substring","src","alt","href","Headline","Link","renderFiveDays","Weather","Favorites","history","useHistory","push","Header","hours","getHours","to","App","path","exact","component","defaultCity","action","combineReducers","favoriteCities","favoritesReducer","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.0ae0b543.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst KEY = '?apikey=dWRWgogZNXfdk0HgKAeRAkpJ0nnMq5Yf'\r\nconst SEARCH_URL = `https://dataservice.accuweather.com/locations/v1/cities/autocomplete`\r\nconst WEATHER_URL = `https://dataservice.accuweather.com/forecasts/v1/daily/5day/`\r\nconst GEOLOCATION_URL = `http://dataservice.accuweather.com/locations/v1/cities/geoposition/search`\r\n\r\nexport const weatherAPI = {\r\n    query,\r\n    getWeather,\r\n    getCityFromGeolocation\r\n}\r\n\r\nasync function query(term) {\r\n    return axios.get(SEARCH_URL + KEY + '&q=' + term + '&language=en-us').then(res=>{\r\n        return res.data\r\n    })\r\n}\r\n\r\nasync function getWeather(city) {\r\n    return axios.get(WEATHER_URL + city.Key + KEY + '&language=en-us&details=true&metric=true').then(res=>  {\r\n        return res.data\r\n    })\r\n}\r\n\r\nasync function getCityFromGeolocation(lat,lng){\r\n    return axios.get(GEOLOCATION_URL+  KEY + '&q='+lat+','+lng).then(res=>  {\r\n        return res.data.Key\r\n    })\r\n}","\nexport const storageService = {\n    query,\n    getById,\n    post,\n    remove,\n    saveToStorage,\n    loadFromStorage,\n}\n\nfunction query(entityType) {\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\n    return Promise.resolve(entities);\n}\n\nfunction getById(entityType, entityId) {\n    return query(entityType)\n        .then(entities => entities.find(entity => entity.id === entityId))\n}\n\nfunction post(entityType, newEntity) {\n    newEntity.id = _makeId()\n    return query(entityType)\n        .then(entities => {\n            entities.unshift(newEntity);\n            _save(entityType, entities)\n            return newEntity;\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity.id === entityId);\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}\n\n\nfunction saveToStorage(key, value) {\n    localStorage.setItem(key, JSON.stringify(value) || null);\n}\n\nfunction loadFromStorage(key) {\n    let data = localStorage.getItem(key);\n    return (data) ? JSON.parse(data) : undefined;\n}\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\nfunction _makeId(length = 7) {\n    var text = '';\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}","import { weatherAPI } from '../../apis/weather';\r\nimport { storageService } from '../../services/storage.service'\r\n\r\nexport const toggleUnit = dispatch => {\r\n    dispatch({ type: 'TOGGLE_UNIT' })\r\n}\r\n\r\nexport const toggleMode = dispatch => {\r\n    dispatch({ type: 'TOGGLE_MODE' })\r\n}\r\n\r\nexport const searchCityFromLocation = (lat, lng) => async dispatch => {\r\n    try {\r\n        const code = await weatherAPI.getCityFromGeolocation(lat, lng)\r\n        const res = await weatherAPI.getWeather(code);\r\n        dispatch({ type: 'GET_WEATHER', payload: res }); \r\n    }\r\n    catch (err) { console.log(err); }\r\n}\r\n\r\nexport const searchCity = term => async dispatch => {\r\n    try {\r\n        const res = await weatherAPI.query(term);\r\n        dispatch({ type: 'SEARCH_CITY', payload: res });\r\n    }\r\n    catch (err) { console.log(`Had an error getting to AccuWeather API.`) }\r\n\r\n}\r\n\r\nexport const setCurrCity = city => async dispatch => {\r\n    dispatch({ type: 'SET_CITY', payload: city });\r\n}\r\n\r\nexport const getWeather = code => async dispatch => {\r\n    try {\r\n        const res = await weatherAPI.getWeather(code);\r\n        dispatch({ type: 'GET_WEATHER', payload: res });\r\n    }\r\n    catch (err) { console.log(`Had an error getting to AccuWeather API.`) }\r\n}\r\n\r\nexport const getFavorites = () => async dispatch => {\r\n    const res = await storageService.query('favoriteCities')\r\n    return Promise.resolve(dispatch({ type: 'GET_FAVORITES', payload: res }))\r\n}\r\n\r\n\r\n\r\nexport const toggleFavorite = city => async dispatch => {\r\n    let res;\r\n    const favorites = await storageService.query('favoriteCities')\r\n    const cityInFavorites = favorites.find(favoriteCity => favoriteCity.LocalizedName === city.LocalizedName)\r\n    if (!cityInFavorites) res = await storageService.post('favoriteCities', city)\r\n    else res = await storageService.remove('favoriteCities', cityInFavorites.id)\r\n    dispatch({ type: 'SET_FAVORITES', payload: res })\r\n}","import { React, useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { toggleFavorite, getFavorites } from '../store/actions/index'\r\n\r\nconst List = props => {\r\n    const dispatch = useDispatch()\r\n    const cityList = useSelector((state) => state.cityList)\r\n    const [favoritesToDisplay, setFavoritesToDisplay] = useState([])\r\n    const { listType } = props\r\n\r\n    useEffect(() => {\r\n        dispatch(getFavorites()).then(res => {\r\n            setFavoritesToDisplay(res.payload)\r\n        })\r\n    }, [favoritesToDisplay.length])\r\n\r\n    const toggleFavoriteCity = city => {\r\n        setFavoritesToDisplay([])\r\n        dispatch(toggleFavorite(city))\r\n    }\r\n\r\n\r\n    const renderContents = renderArr => {\r\n        if (listType === 'searchOptions') if (cityList === [] || !cityList) return\r\n        return renderArr.map((city, idx) => {\r\n            const isInFavorites = favoritesToDisplay.find((favoriteCity) => favoriteCity.Key === city.Key)\r\n            return (\r\n                <div className={`item ui ${listType === 'favorites' ? 'card favorite-item five wide column' : null} `}\r\n                    key={idx}>\r\n                    <div\r\n                        className=\"header\"\r\n                        key={city.Key}\r\n                        onClick={() => props.onSelect(city)}\r\n                        tabIndex=\"0\">\r\n                        {listType === 'favorites' ? <> <h3><i className={`${city.Country.ID.toLowerCase()} flag`}></i>{city.LocalizedName}</h3>\r\n                            <h5>See Forecast</h5></> : <> \r\n                            <p><i className={`${city.Country.ID.toLowerCase()} flag`}></i>{city.LocalizedName}</p></>}\r\n\r\n                    </div>\r\n                    <div className={listType === 'favorites' ? 'ui clearing divider' : null}>\r\n                    </div>\r\n                    <div\r\n                        className=\"description\"\r\n                        onClick={() => toggleFavoriteCity(city)}\r\n                        key={city.LocalizedName}>\r\n                        <i className=\"plus circle icon\"></i>\r\n                        {isInFavorites ? 'Remove from Favorites' : 'Add to Favorites'}\r\n                    </div>\r\n                </div>)\r\n        })\r\n    }\r\n    return (<div className={listType === 'favorites' ? 'ui container' : null}>\r\n        <div className={listType === 'favorites' && favoritesToDisplay.length ? 'ui relaxed grid ' : 'ui divided list'}>\r\n            {listType === 'searchOptions' && renderContents(cityList)}\r\n            {listType === 'favorites' && renderContents(favoritesToDisplay)}\r\n            {listType === 'favorites' && !favoritesToDisplay.length && <div className=\"favorites-empty-msg\"> <p>\r\n                It seems awfully empty in here! Why not search some cities, and add them to your favorites?</p></div>}\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default List","\r\nimport { React, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrCity } from '../store/actions/index'\r\n\r\n\r\nconst GetUserLocation = () => {\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const [msg, setMsg] = useState('Click to check the forecast for your location!')\r\n    const dispatch = useDispatch()\r\n    const success = position => { dispatch(setCurrCity(position.coords.latitude, position.coords.longtitude)) }\r\n    const error = err => {console.log(err);\r\n    setMsg('Please allow this app to access your location.')}\r\n    const getLocation = () => {\r\n        navigator.geolocation.getCurrentPosition(success, error)\r\n    }\r\n    return (\r\n        <div>\r\n            <button\r\n                className={dayMode ? 'ui button labeled icon' : 'ui button inverted basic labeled violet icon'}\r\n                onClick={getLocation}\r\n            >\r\n                <i class=\"location arrow icon\"></i>\r\nSearch My Location\r\n            </button>\r\n            <p>{msg}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default GetUserLocation\r\n\r\n","import { React, useState, useEffect, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrCity, searchCity } from '../store/actions/index'\r\nimport List from '../cmps/List'\r\nimport db from 'just-debounce'\r\nimport GetUserLocation from '../cmps/GetUserLocation'\r\n\r\nconst SearchBar = () => {\r\n    const dispatch = useDispatch()\r\n    const [city, setCity] = useState('')\r\n    const [display, setDisplay] = useState(false)\r\n    const wrapperRef = useRef(null)\r\n    const currCity = useSelector((state) => state.city.LocalizedName)\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleOutsideClick)\r\n        // setCity(currCity)\r\n        return () => document.removeEventListener(\"mousedown\", handleOutsideClick)\r\n    }, [currCity])\r\n    \r\n\r\n    const handleOutsideClick = (ev) => {\r\n        const { current: wrap } = wrapperRef\r\n        if (wrap && !wrap.contains(ev.target)) setDisplay(false)\r\n    }\r\n\r\n    const onSearchType = async (ev) => {\r\n        ev.preventDefault()\r\n        const letter = ev.nativeEvent.data\r\n        if (letter) {\r\n            const letterCode = letter.charCodeAt(0)\r\n            if (!(letterCode >= 65 && letterCode <= 90) && !(letterCode >= 97 && letterCode <= 122)) return\r\n        }\r\n        setCity(ev.target.value)\r\n        const debouncedDispatch = db(() => dispatch(searchCity(city)), 850)\r\n        debouncedDispatch()\r\n\r\n    }\r\n    const onSelect = (city) => {\r\n        setCity(city.LocalizedName)\r\n        dispatch(setCurrCity(city))\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <div\r\n            ref={wrapperRef}>\r\n            <GetUserLocation/>\r\n            <h3> Search a City...</h3>\r\n\r\n            <input type=\"text\"\r\n                placeholder=\"Type to Search...\"\r\n                onChange={onSearchType}\r\n                value={city}\r\n                onClick={() => setDisplay(!display)}\r\n                className={dayMode ? null : 'night'}\r\n            />\r\n            <div\r\n                className=\"options-list\"\r\n                style={display ? { transform: 'scaleY(1)' } : { transform: 'scaleY(0)' }}>\r\n                <List onSelect={onSelect} listType={'searchOptions'} />\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import { React, useEffect, useState } from 'react'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getWeather } from '../store/actions/index'\r\n\r\nconst WeatherDisplay = () => {\r\n    const dispatch = useDispatch();\r\n    const currCity = useSelector((state) => state.city);\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const unit = useSelector((state) => state.unit);\r\n    const weather = useSelector((state) => state.weather);\r\n    const [msg, setMsg] = useState('Loading...')\r\n    const [msgHeader, setMsgHeader] = useState('Loading')\r\n\r\n    let icon;\r\n\r\n    useEffect(() => {\r\n        dispatch(getWeather(currCity))\r\n    }, [dispatch, currCity]);\r\n\r\n    (function () {\r\n        if (weather.DailyForecasts) { dayMode ? icon = weather.DailyForecasts[0].Day.Icon : icon = weather.DailyForecasts[0].Night.Icon }\r\n        else setTimeout(() => {\r\n            setMsg(`We're having some technical difficulties! Please try again later.`)\r\n            setMsgHeader('Error')\r\n        }, 2000);\r\n    })()\r\n\r\n    const renderImg = () => {\r\n        if (!icon) return\r\n        else if (icon < 10) return <img src={`https://developer.accuweather.com/sites/default/files/0${icon}-s.png`} alt=\"weather icon\" />\r\n        else return <img src={`https://developer.accuweather.com/sites/default/files/${icon}-s.png`} alt=\"weather icon\" />\r\n    }\r\n    const renderDegrees = (dayNum) => {\r\n        if (!icon) return\r\n        const degrees = dayMode ? weather.DailyForecasts[dayNum].Temperature.Maximum.Value : weather.DailyForecasts[dayNum].Temperature.Minimum.Value\r\n        return unit ? Math.floor(degrees) : Math.floor(degrees * 9 / 5 + 32)\r\n    }\r\n\r\n    const renderFiveDays = () => {\r\n        if (!icon) return\r\n        return weather.DailyForecasts.map((day, idx) => {\r\n            dayMode ? icon = weather.DailyForecasts[idx].Day.Icon : icon = weather.DailyForecasts[idx].Night.Icon\r\n            const message = dayMode ? weather.DailyForecasts[idx].Day.ShortPhrase : weather.DailyForecasts[idx].Night.ShortPhrase\r\n            return <div className=\" ui card\"\r\n                key={idx}>\r\n                <div className=\"content\">\r\n                    <h3 className=\"header\">\r\n                        {currCity.LocalizedName} <span>{day.Date.substring(5, 10)}</span>\r\n                    </h3>\r\n                    <p className=\"ui description\">\r\n                        {renderImg()}\r\n                        {renderDegrees(idx)} °\r\n                </p>\r\n                    <p>{message}</p>\r\n                    <a href={weather.Headline.Link}>See More</a>\r\n                </div>\r\n            </div>\r\n        })\r\n    }\r\n\r\n    return (<>\r\n        <div>\r\n            {!weather.DailyForecasts &&\r\n                <div className=\"ui card\">\r\n                    <div className=\"content\">\r\n                        <h4 >{msgHeader}</h4>\r\n                        <p>{msg}</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n        {weather.DailyForecasts &&\r\n            <div>\r\n                {renderFiveDays()}</div>}\r\n\r\n    </>)\r\n}\r\n\r\nexport default WeatherDisplay","import React from 'react'\r\nimport SearchBar from '../cmps/SearchBar'\r\nimport WeatherDisplay from '../cmps/WeatherDisplay'\r\n\r\nconst Weather = () => {\r\n    return (\r\n        <div className=\"ui container \">\r\n            <SearchBar />\r\n            <WeatherDisplay/>\r\n        </div>\r\n    );\r\n}\r\nexport default Weather;","import { React } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport List from '../cmps/List'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrCity } from '../store/actions/index'\r\n\r\n\r\nconst Favorites = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    const onSelectCity = (city) => {\r\n        dispatch(setCurrCity(city))\r\n        history.push('/')\r\n    }\r\n    return (\r\n        <div className=\"favorites-page\">\r\n            <p>Below you'll find your favorites. Clicking a favorite city will show you it's weather forecast.</p>\r\n            <div className=\"ui horizontal divider\">\r\n                Your Favorites\r\n</div>\r\n            <List onSelect={onSelectCity} listType={'favorites'} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Favorites;","import { React, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { toggleUnit, toggleMode } from '../store/actions/index'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch()\r\n    const unit = useSelector((state) => state.unit)\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const date = new Date()\r\n    const hours = date.getHours()\r\n    useEffect(() => {\r\n        if (hours < 18 && hours < 5) dispatch(toggleMode)\r\n    }, [hours])\r\n    const renderUnit = () => {\r\n        return unit ? 'C' : 'F'\r\n    }\r\n    const renderDayMode = () => {\r\n        return dayMode ? <><i className=\"sun icon\"></i>Day Mode</> : <><i className=\"moon icon\"></i>Night Mode</>\r\n    }\r\n    return (\r\n        <div className={dayMode ? 'ui secondary pointing menu' : 'ui secondary pointing menu night'}>\r\n            <Link to=\"/\" className=\"item\">\r\n                <h3>Weather</h3>\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/favorites\" className=\"item\">\r\n                    <h3>Favorites</h3>\r\n                </Link>\r\n                <button\r\n                    className={dayMode ? 'ui button' : 'ui button inverted basic violet'}\r\n                    onClick={() => dispatch(toggleUnit)}>\r\n                    {renderUnit()}°\r\n                        </button>\r\n                <button\r\n                    className={dayMode ? 'ui labeled icon button' : 'ui button  labeled icon  inverted basic violet'}\r\n                    onClick={() => dispatch(toggleMode)}>\r\n                    {renderDayMode()}\r\n\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Header;","import React from 'react'\r\nimport { HashRouter, Route } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport './style.css'\r\nimport './media-query.css'\r\nimport './dark-mode.css'\r\nimport Weather from './views/Weather'\r\nimport Favorites from './views/Favorites'\r\nimport Header from './cmps/Header'\r\n\r\nconst App = () => {\r\n  const dayMode = useSelector((state) => state.dayMode)\r\n  return (\r\n    <div className={dayMode ? 'background-day' : 'background-night'}>\r\n      <div className={dayMode ? 'ui  container main-app ' : 'ui  container main-app night'}>\r\n        <HashRouter >\r\n          <Header />\r\n          <div className=\"App ui container  app-main \">\r\n            <Route path=\"/favorites\" exact component={Favorites} />\r\n            <Route path=\"/\" exact component={Weather} />\r\n          </div>\r\n        </HashRouter >\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nconst defaultCity = {\r\n    \"Version\": 1,\r\n    \"Key\": \"215854\",\r\n    \"Type\": \"City\",\r\n    \"Rank\": 31,\r\n    \"LocalizedName\": \"Tel Aviv\",\r\n    \"Country\": {\r\n        \"ID\": \"IL\",\r\n        \"LocalizedName\": \"Israel\"\r\n    },\r\n    \"AdministrativeArea\": {\r\n        \"ID\": \"TA\",\r\n        \"LocalizedName\": \"Tel Aviv\"\r\n    },\r\n    \"id\": \"WM8brNU\"\r\n}\r\nexport default (state = defaultCity, action) => {\r\n    switch (action.type) {\r\n        case 'SET_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\nexport default async (state = [], action) => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_FAVORITES':\r\n            return action.payload;\r\n        case 'GET_FAVORITES':\r\n            return  action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport cityListReduer from './cityListReducer'\r\nimport weatherReducer from './weatherReducer'\r\nimport selectedCityReducer from './selectedCityReducer'\r\nimport favoritesReducer from './favoritesReducer'\r\nimport unitReducer from './unitReducer'\r\nimport modeReducer from './modeReducer'\r\n\r\nexport default combineReducers(\r\n    {\r\n        cityList: cityListReduer,\r\n        weather: weatherReducer,\r\n        city: selectedCityReducer,\r\n        favoriteCities: favoritesReducer,\r\n        unit: unitReducer,\r\n        dayMode: modeReducer\r\n    }\r\n);\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'SEARCH_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'GET_WEATHER':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = true, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_UNIT':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_MODE':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './store/reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}