{"version":3,"sources":["apis/weather.js","services/storage.service.js","store/actions/index.js","cmps/List.js","cmps/SearchBar.js","cmps/WeatherDisplay.js","views/Weather.js","views/Favorites.js","cmps/Header.js","App.js","store/reducers/selectedCityReducer.js","store/reducers/favoritesReducer.js","store/reducers/index.js","store/reducers/cityListReducer.js","store/reducers/weatherReducer.js","store/reducers/unitReducer.js","store/reducers/modeReducer.js","index.js"],"names":["KEY","SEARCH_URL","WEATHER_URL","weatherAPI","query","getWeather","term","a","axios","get","then","res","data","city","Key","storageService","getById","entityType","entityId","entities","find","entity","id","post","newEntity","_makeId","unshift","_save","remove","idx","findIndex","splice","saveToStorage","key","value","localStorage","setItem","JSON","stringify","loadFromStorage","getItem","parse","undefined","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","toggleUnit","dispatch","type","toggleMode","setCurrCity","payload","List","props","useDispatch","cityList","useSelector","state","useState","favoritesToDisplay","setFavoritesToDisplay","listType","useEffect","toggleFavoriteCity","favorites","cityInFavorites","favoriteCity","LocalizedName","toggleFavorite","renderContents","renderArr","map","isInFavorites","className","onClick","onSelect","tabIndex","Country","ID","toLowerCase","SearchBar","setCity","display","setDisplay","wrapperRef","useRef","currCity","document","addEventListener","handleOutsideClick","removeEventListener","ev","wrap","current","contains","target","onSearchType","preventDefault","letter","nativeEvent","letterCode","charCodeAt","db","console","log","debouncedDispatch","ref","placeholder","onChange","style","transform","WeatherDisplay","icon","dayMode","unit","weather","msg","setMsg","msgHeader","setMsgHeader","code","DailyForecasts","Day","Icon","Night","setTimeout","renderDegrees","dayNum","degrees","Temperature","Maximum","Value","Minimum","day","message","ShortPhrase","Date","substring","src","alt","href","Headline","Link","renderFiveDays","Weather","Favorites","history","useHistory","push","Header","hours","getHours","to","App","path","exact","component","defaultCity","action","combineReducers","favoriteCities","favoritesReducer","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.73dfe498.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst KEY = '?apikey=dWRWgogZNXfdk0HgKAeRAkpJ0nnMq5Yf'\r\nconst SEARCH_URL = `https://dataservice.accuweather.com/locations/v1/cities/autocomplete`\r\nconst WEATHER_URL = `https://dataservice.accuweather.com/forecasts/v1/daily/5day/`\r\n\r\nexport const weatherAPI = {\r\n    query,\r\n    getWeather\r\n}\r\n\r\nasync function query(term) {\r\n    return axios.get(SEARCH_URL + KEY + '&q=' + term + '&language=en-us').then(res=>{\r\n        return res.data\r\n    })\r\n}\r\n\r\nasync function getWeather(city) {\r\n    return axios.get(WEATHER_URL + city.Key + KEY + '&language=en-us&details=true&metric=true').then(res=>  {\r\n        return res.data\r\n    })\r\n}","\nexport const storageService = {\n    query,\n    getById,\n    post,\n    remove,\n    saveToStorage,\n    loadFromStorage,\n}\n\nfunction query(entityType) {\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\n    return Promise.resolve(entities);\n}\n\nfunction getById(entityType, entityId) {\n    return query(entityType)\n        .then(entities => entities.find(entity => entity.id === entityId))\n}\n\nfunction post(entityType, newEntity) {\n    newEntity.id = _makeId()\n    return query(entityType)\n        .then(entities => {\n            entities.unshift(newEntity);\n            _save(entityType, entities)\n            return newEntity;\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity.id === entityId);\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}\n\n\nfunction saveToStorage(key, value) {\n    localStorage.setItem(key, JSON.stringify(value) || null);\n}\n\nfunction loadFromStorage(key) {\n    let data = localStorage.getItem(key);\n    return (data) ? JSON.parse(data) : undefined;\n}\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\nfunction _makeId(length = 7) {\n    var text = '';\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}","import { weatherAPI } from '../../apis/weather';\r\nimport { storageService } from '../../services/storage.service'\r\n\r\nexport const toggleUnit = dispatch => {\r\n    dispatch({ type: 'TOGGLE_UNIT' })\r\n}\r\n\r\nexport const toggleMode = dispatch => {\r\n    dispatch({ type: 'TOGGLE_MODE' })\r\n}\r\n\r\nexport const searchCity = term => async dispatch => {\r\n   try{const res = await weatherAPI.query(term);\r\n    dispatch({ type: 'SEARCH_CITY', payload: res });} \r\n    catch (err) { console.log(`Had an error getting to AccuWeather API.`) }\r\n\r\n}\r\n\r\nexport const setCurrCity = city => async dispatch => {\r\n    dispatch({ type: 'SET_CITY', payload: city });\r\n}\r\n\r\nexport const getWeather = code => async dispatch => {\r\n    try {\r\n        const res = await weatherAPI.getWeather(code);\r\n        dispatch({ type: 'GET_WEATHER', payload: res });\r\n    }\r\n    catch (err) { console.log(`Had an error getting to AccuWeather API.`) }\r\n}\r\n\r\nexport const getFavorites = () => async dispatch => {\r\n    const res = await storageService.query('favoriteCities')\r\n    return Promise.resolve(dispatch({ type: 'GET_FAVORITES', payload: res }))\r\n}\r\n\r\n\r\n\r\nexport const toggleFavorite = city => async dispatch => {\r\n    let res;\r\n    const favorites = await storageService.query('favoriteCities')\r\n    const cityInFavorites = favorites.find(favoriteCity => favoriteCity.LocalizedName === city.LocalizedName)\r\n    if (!cityInFavorites) res = await storageService.post('favoriteCities', city)\r\n    else res = await storageService.remove('favoriteCities', cityInFavorites.id)\r\n    dispatch({ type: 'SET_FAVORITES', payload: res })\r\n}","import { React, useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { toggleFavorite, getFavorites } from '../store/actions/index'\r\n\r\nconst List = props => {\r\n    const dispatch = useDispatch()\r\n    const cityList = useSelector((state) => state.cityList)\r\n    const [favoritesToDisplay, setFavoritesToDisplay] = useState([])\r\n    const { listType } = props\r\n\r\n    useEffect(() => {\r\n        dispatch(getFavorites()).then(res => {\r\n            setFavoritesToDisplay(res.payload)\r\n        })\r\n    }, [favoritesToDisplay.length])\r\n\r\n    const toggleFavoriteCity = city => {\r\n        setFavoritesToDisplay([])\r\n        dispatch(toggleFavorite(city))\r\n    }\r\n\r\n\r\n    const renderContents = renderArr => {\r\n        if (listType === 'searchOptions') if (cityList === [] || !cityList) return\r\n        return renderArr.map((city, idx) => {\r\n            const isInFavorites = favoritesToDisplay.find((favoriteCity) => favoriteCity.Key === city.Key)\r\n            return (\r\n                <div className={`item ui ${listType === 'favorites' ? 'card favorite-item five wide column' : null} `}\r\n                    key={idx}>\r\n                    <div\r\n                        className=\"header\"\r\n                        key={city.Key}\r\n                        onClick={() => props.onSelect(city)}\r\n                        tabIndex=\"0\">\r\n                        {listType === 'favorites' ? <> <h3><i className={`${city.Country.ID.toLowerCase()} flag`}></i>{city.LocalizedName}</h3>\r\n                            <h5>See Forecast</h5></> : <> \r\n                            <p><i className={`${city.Country.ID.toLowerCase()} flag`}></i>{city.LocalizedName}</p></>}\r\n\r\n                    </div>\r\n                    <div className={listType === 'favorites' ? 'ui clearing divider' : null}>\r\n                    </div>\r\n                    <div\r\n                        className=\"description\"\r\n                        onClick={() => toggleFavoriteCity(city)}\r\n                        key={city.LocalizedName}>\r\n                        <i className=\"plus circle icon\"></i>\r\n                        {isInFavorites ? 'Remove from Favorites' : 'Add to Favorites'}\r\n                    </div>\r\n                </div>)\r\n        })\r\n    }\r\n    return (<div className={listType === 'favorites' ? 'ui container' : null}>\r\n        <div className={listType === 'favorites' && favoritesToDisplay.length ? 'ui relaxed grid ' : 'ui divided list'}>\r\n            {listType === 'searchOptions' && renderContents(cityList)}\r\n            {listType === 'favorites' && renderContents(favoritesToDisplay)}\r\n            {listType === 'favorites' && !favoritesToDisplay.length && <div className=\"favorites-empty-msg\"> <p>\r\n                It seems awfully empty in here! Why not search some cities, and add them to your favorites?</p></div>}\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default List","import { React, useState, useEffect, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrCity, searchCity } from '../store/actions/index'\r\nimport List from '../cmps/List'\r\nimport db from 'just-debounce'\r\n\r\nconst SearchBar = () => {\r\n    const dispatch = useDispatch()\r\n    const [city, setCity] = useState('')\r\n    const [display, setDisplay] = useState(false)\r\n    const wrapperRef = useRef(null)\r\n    const currCity = useSelector((state) => state.city.LocalizedName)\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleOutsideClick)\r\n        // setCity(currCity)\r\n        return () => document.removeEventListener(\"mousedown\", handleOutsideClick)\r\n    }, [currCity])\r\n\r\n\r\n    const handleOutsideClick = (ev) => {\r\n        const { current: wrap } = wrapperRef\r\n        if (wrap && !wrap.contains(ev.target)) setDisplay(false)\r\n    }\r\n\r\n    const onSearchType = async (ev) => {\r\n        ev.preventDefault()\r\n        const letter = ev.nativeEvent.data\r\n        if (letter) {\r\n            const letterCode = letter.charCodeAt(0)\r\n            if(!(letterCode>= 65 && letterCode <= 90)&&!(letterCode>= 97 && letterCode<=122)) return\r\n        }\r\n        setCity(ev.target.value)\r\n        const debouncedDispatch = db(() => dispatch(searchCity(city)), 850)\r\n        debouncedDispatch()\r\n\r\n    }\r\n    const onSelect = (city) => {\r\n        setCity(city.LocalizedName)\r\n        dispatch(setCurrCity(city))\r\n    }\r\n\r\n\r\n    return (\r\n        <div\r\n            ref={wrapperRef}\r\n            className=\" \">\r\n            <h3> Search a City...</h3>\r\n            <input type=\"text\"\r\n                placeholder=\"Type to Search...\"\r\n                onChange={onSearchType}\r\n                value={city}\r\n                onClick={() => setDisplay(!display)}\r\n            />\r\n            <div\r\n                className=\"options-list\"\r\n                style={display ? { transform: 'scaleY(1)' } : { transform: 'scaleY(0)' }}>\r\n                <List onSelect={onSelect} listType={'searchOptions'} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import { React, useEffect, useState } from 'react'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getWeather } from '../store/actions/index'\r\n\r\nconst WeatherDisplay = () => {\r\n    const dispatch = useDispatch();\r\n    const currCity = useSelector((state) => state.city);\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const unit = useSelector((state) => state.unit);\r\n    const weather = useSelector((state) => state.weather);\r\n    const [msg, setMsg] = useState('Loading...')\r\n    const [msgHeader, setMsgHeader] = useState('Loading')\r\n\r\n    let icon;\r\n\r\n    useEffect(() => {\r\n        dispatch(getWeather(currCity))\r\n    }, [dispatch, currCity]);\r\n\r\n    (function () {\r\n        if (weather.DailyForecasts) { dayMode ? icon = weather.DailyForecasts[0].Day.Icon : icon = weather.DailyForecasts[0].Night.Icon }\r\n        else setTimeout(() => {\r\n            setMsg(`We're having some technical difficulties! Please try again later.`)\r\n            setMsgHeader('Error')\r\n        }, 2000);\r\n    })()\r\n\r\n    const renderImg = () => {\r\n        if (!icon) return\r\n        else if (icon < 10) return <img src={`https://developer.accuweather.com/sites/default/files/0${icon}-s.png`} alt=\"weather icon\" />\r\n        else return <img src={`https://developer.accuweather.com/sites/default/files/${icon}-s.png`} alt=\"weather icon\" />\r\n    }\r\n    const renderDegrees = (dayNum) => {\r\n        if (!icon) return\r\n        const degrees = dayMode ? weather.DailyForecasts[dayNum].Temperature.Maximum.Value : weather.DailyForecasts[dayNum].Temperature.Minimum.Value\r\n        return unit ? Math.floor(degrees) : Math.floor(degrees * 9 / 5 + 32)\r\n    }\r\n\r\n    const renderFiveDays = () => {\r\n        if (!icon) return\r\n        return weather.DailyForecasts.map((day, idx) => {\r\n            dayMode ? icon = weather.DailyForecasts[idx].Day.Icon : icon = weather.DailyForecasts[idx].Night.Icon\r\n            const message = dayMode ? weather.DailyForecasts[idx].Day.ShortPhrase : weather.DailyForecasts[idx].Night.ShortPhrase\r\n            return <div className=\" ui card\"\r\n                key={idx}>\r\n                <div className=\"content\">\r\n                    <h3 className=\"header\">\r\n                        {currCity.LocalizedName} <span>{day.Date.substring(5, 10)}</span>\r\n                    </h3>\r\n                    <p className=\"ui description\">\r\n                        {renderImg()}\r\n                        {renderDegrees(idx)} °\r\n                </p>\r\n                    <p>{message}</p>\r\n                    <a href={weather.Headline.Link}>See More</a>\r\n                </div>\r\n            </div>\r\n        })\r\n    }\r\n\r\n    return (<>\r\n        <div>\r\n            {!weather.DailyForecasts &&\r\n                <div className=\"ui card\">\r\n                    <div className=\"content\">\r\n                        <h4 >{msgHeader}</h4>\r\n                        <p>{msg}</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n        {weather.DailyForecasts &&\r\n            <div>\r\n                {renderFiveDays()}</div>}\r\n\r\n    </>)\r\n}\r\n\r\nexport default WeatherDisplay","import React from 'react'\r\nimport SearchBar from '../cmps/SearchBar'\r\nimport WeatherDisplay from '../cmps/WeatherDisplay'\r\n\r\n\r\nconst Weather = () => {\r\n    return (\r\n        <div className=\"ui container \">\r\n            <SearchBar />\r\n            <WeatherDisplay/>\r\n        </div>\r\n    );\r\n}\r\nexport default Weather;","import { React } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport List from '../cmps/List'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrCity } from '../store/actions/index'\r\n\r\n\r\nconst Favorites = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    const onSelectCity = (city) => {\r\n        dispatch(setCurrCity(city))\r\n        history.push('/')\r\n    }\r\n    return (\r\n        <div className=\"favorites-page\">\r\n            <p>Below you'll find your favorites. Clicking a favorite city will show you it's weather forecast.</p>\r\n            <div className=\"ui horizontal divider\">\r\n                Your Favorites\r\n</div>\r\n            <List onSelect={onSelectCity} listType={'favorites'} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Favorites;","import { React, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { toggleUnit, toggleMode } from '../store/actions/index'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch()\r\n    const unit = useSelector((state) => state.unit)\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const date = new Date()\r\n    const hours = date.getHours()\r\n    useEffect(() => {\r\n        if (hours < 18 && hours < 5) dispatch(toggleMode)\r\n    }, [hours])\r\n    const renderUnit = () => {\r\n        return unit ? 'C' : 'F'\r\n    }\r\n    const renderDayMode = () => {\r\n        return dayMode ? <><i className=\"sun icon\"></i>Day Mode</> : <><i className=\"moon icon\"></i>Night Mode</>\r\n    }\r\n    return (\r\n        <div className={dayMode ? 'ui secondary pointing menu' : 'ui secondary pointing menu night'}>\r\n            <Link to=\"/\" className=\"item\">\r\n                <h3>Weather</h3>\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/favorites\" className=\"item\">\r\n                    <h3>Favorites</h3>\r\n                </Link>\r\n                <button\r\n                    className={dayMode ? 'ui button' : 'ui button inverted basic violet'}\r\n                    onClick={() => dispatch(toggleUnit)}>\r\n                    {renderUnit()}°\r\n                        </button>\r\n                <button\r\n                    className={dayMode ? 'ui labeled icon button' : 'ui button  labeled icon  inverted basic violet'}\r\n                    onClick={() => dispatch(toggleMode)}>\r\n                    {renderDayMode()}\r\n\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Header;","import React from 'react'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport './style.css'\r\nimport './media-query.css'\r\nimport './dark-mode.css'\r\nimport Weather from './views/Weather'\r\nimport Favorites from './views/Favorites'\r\nimport Header from './cmps/Header'\r\n\r\nconst App = () => {\r\n  const dayMode = useSelector((state) => state.dayMode)\r\n  return (\r\n    <div className={dayMode ? 'background-day' : 'background-night'}>\r\n      <div className={dayMode ? 'ui  container main-app ' : 'ui  container main-app night'}>\r\n        <BrowserRouter >\r\n          <Header />\r\n          <div className=\"App ui container  app-main \">\r\n            <Route path=\"/favorites\" exact component={Favorites} />\r\n            <Route path=\"/\" exact component={Weather} />\r\n          </div>\r\n        </BrowserRouter >\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nconst defaultCity = {\r\n    \"Version\": 1,\r\n    \"Key\": \"215854\",\r\n    \"Type\": \"City\",\r\n    \"Rank\": 31,\r\n    \"LocalizedName\": \"Tel Aviv\",\r\n    \"Country\": {\r\n        \"ID\": \"IL\",\r\n        \"LocalizedName\": \"Israel\"\r\n    },\r\n    \"AdministrativeArea\": {\r\n        \"ID\": \"TA\",\r\n        \"LocalizedName\": \"Tel Aviv\"\r\n    },\r\n    \"id\": \"WM8brNU\"\r\n}\r\nexport default (state = defaultCity, action) => {\r\n    switch (action.type) {\r\n        case 'SET_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\nexport default async (state = [], action) => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_FAVORITES':\r\n            return action.payload;\r\n        case 'GET_FAVORITES':\r\n            return  action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport cityListReduer from './cityListReducer'\r\nimport weatherReducer from './weatherReducer'\r\nimport selectedCityReducer from './selectedCityReducer'\r\nimport favoritesReducer from './favoritesReducer'\r\nimport unitReducer from './unitReducer'\r\nimport modeReducer from './modeReducer'\r\n\r\nexport default combineReducers(\r\n    {\r\n        cityList: cityListReduer,\r\n        weather: weatherReducer,\r\n        city: selectedCityReducer,\r\n        favoriteCities: favoritesReducer,\r\n        unit: unitReducer,\r\n        dayMode: modeReducer\r\n    }\r\n);\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'SEARCH_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'GET_WEATHER':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = true, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_UNIT':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_MODE':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './store/reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}