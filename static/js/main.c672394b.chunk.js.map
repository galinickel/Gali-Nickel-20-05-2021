{"version":3,"sources":["apis/weather.js","services/storage.service.js","store/actions/index.js","cmps/List.js","cmps/SearchBar.js","cmps/WeatherDisplay.js","views/Weather.js","views/Favorites.js","cmps/Header.js","App.js","store/reducers/selectedCityReducer.js","store/reducers/favoritesReducer.js","store/reducers/index.js","store/reducers/cityListReducer.js","store/reducers/weatherReducer.js","store/reducers/unitReducer.js","store/reducers/modeReducer.js","index.js"],"names":["KEY","SEARCH_URL","WEATHER_URL","weatherAPI","query","getWeather","term","a","axios","get","then","res","data","city","Key","storageService","getById","entityType","entityId","entities","find","entity","id","post","newEntity","_makeId","unshift","_save","remove","idx","findIndex","splice","saveToStorage","key","value","localStorage","setItem","JSON","stringify","loadFromStorage","getItem","parse","undefined","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","toggleUnit","dispatch","type","toggleMode","searchCity","payload","setCurrCity","List","props","useDispatch","cityList","useSelector","state","useState","favoritesToDisplay","setFavoritesToDisplay","listType","useEffect","toggleFavoriteCity","favorites","cityInFavorites","favoriteCity","LocalizedName","toggleFavorite","renderContents","renderArr","map","isInFavorites","className","onClick","onSelect","tabIndex","Country","ID","toLowerCase","SearchBar","setCity","display","setDisplay","wrapperRef","useRef","currCity","document","addEventListener","handleOutsideClick","removeEventListener","ev","wrap","current","contains","target","onSearchType","preventDefault","ref","placeholder","onChange","style","transform","WeatherDisplay","icon","dayMode","unit","weather","msg","setMsg","msgHeader","setMsgHeader","code","console","log","DailyForecasts","Day","Icon","Night","setTimeout","renderDegrees","dayNum","degrees","Temperature","Maximum","Value","Minimum","day","message","ShortPhrase","Date","substring","src","alt","href","Headline","Link","renderFiveDays","Weather","Favorites","history","useHistory","push","Header","hours","getHours","to","App","path","exact","component","defaultCity","action","combineReducers","favoriteCities","favoritesReducer","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.c672394b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst KEY = '?apikey=dWRWgogZNXfdk0HgKAeRAkpJ0nnMq5Yf'\r\nconst SEARCH_URL = `http://dataservice.accuweather.com/locations/v1/cities/autocomplete`\r\nconst WEATHER_URL = `http://dataservice.accuweather.com/forecasts/v1/daily/5day/`\r\n\r\nexport const weatherAPI = {\r\n    query,\r\n    getWeather\r\n}\r\n\r\nasync function query(term) {\r\n    return axios.get(SEARCH_URL + KEY + '&q=' + term + '&language=en-us').then(res=>{\r\n        return res.data\r\n    })\r\n}\r\n\r\nasync function getWeather(city) {\r\n    return axios.get(WEATHER_URL + city.Key + KEY + '&language=en-us&details=true&metric=true').then(res=>  {\r\n        return res.data\r\n    })\r\n}","\nexport const storageService = {\n    query,\n    getById,\n    post,\n    remove,\n    saveToStorage,\n    loadFromStorage,\n}\n\nfunction query(entityType) {\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\n    return Promise.resolve(entities);\n}\n\nfunction getById(entityType, entityId) {\n    return query(entityType)\n        .then(entities => entities.find(entity => entity.id === entityId))\n}\n\nfunction post(entityType, newEntity) {\n    newEntity.id = _makeId()\n    return query(entityType)\n        .then(entities => {\n            entities.unshift(newEntity);\n            _save(entityType, entities)\n            return newEntity;\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity.id === entityId);\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}\n\n\nfunction saveToStorage(key, value) {\n    localStorage.setItem(key, JSON.stringify(value) || null);\n}\n\nfunction loadFromStorage(key) {\n    let data = localStorage.getItem(key);\n    return (data) ? JSON.parse(data) : undefined;\n}\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\nfunction _makeId(length = 7) {\n    var text = '';\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}","import { weatherAPI } from '../../apis/weather';\r\nimport { storageService } from '../../services/storage.service'\r\n\r\nexport const toggleUnit = dispatch => {\r\n    dispatch({ type: 'TOGGLE_UNIT' })\r\n}\r\n\r\nexport const toggleMode = dispatch => {\r\n    dispatch({ type: 'TOGGLE_MODE' })\r\n}\r\n\r\nexport const searchCity = term => async dispatch => {\r\n    const res = await weatherAPI.query(term);\r\n    dispatch({ type: 'SEARCH_CITY', payload: res });\r\n}\r\n\r\nexport const setCurrCity = city => async dispatch => {\r\n    dispatch({ type: 'SET_CITY', payload: city });\r\n}\r\n\r\nexport const getWeather = code => async dispatch => {\r\n    try {\r\n        const res = await weatherAPI.getWeather(code);\r\n        dispatch({ type: 'GET_WEATHER', payload: res });\r\n    }\r\n    catch (err) { console.log(`Had an error getting to AccuWeather API.`) }\r\n}\r\n\r\nexport const getFavorites = () => async dispatch => {\r\n    const res = await storageService.query('favoriteCities')\r\n    return Promise.resolve(dispatch({ type: 'GET_FAVORITES', payload: res }))\r\n}\r\n\r\n\r\n\r\nexport const toggleFavorite = city => async dispatch => {\r\n    let res;\r\n    const favorites = await storageService.query('favoriteCities')\r\n    const cityInFavorites = favorites.find(favoriteCity => favoriteCity.LocalizedName === city.LocalizedName)\r\n    if (!cityInFavorites) res = await storageService.post('favoriteCities', city)\r\n    else res = await storageService.remove('favoriteCities', cityInFavorites.id)\r\n    dispatch({ type: 'SET_FAVORITES', payload: res })\r\n}","import { React, useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { toggleFavorite, getFavorites } from '../store/actions/index'\r\n\r\nconst List = props => {\r\n    const dispatch = useDispatch()\r\n    const cityList = useSelector((state) => state.cityList)\r\n    const [favoritesToDisplay, setFavoritesToDisplay] = useState([])\r\n    const { listType } = props\r\n    useEffect(() => {\r\n        dispatch(getFavorites()).then(res => {\r\n            setFavoritesToDisplay(res.payload)\r\n        })\r\n    }, [favoritesToDisplay.length])\r\n\r\n    const toggleFavoriteCity = city => {\r\n        setFavoritesToDisplay([])\r\n        dispatch(toggleFavorite(city))\r\n    }\r\n\r\n    const renderContents = renderArr => {\r\n        if (listType === 'searchOptions') if (cityList === [] || !cityList) return\r\n        return renderArr.map((city, idx) => {\r\n            const isInFavorites = favoritesToDisplay.find((favoriteCity) => favoriteCity.Key === city.Key)\r\n            return (\r\n                <div className={`item ui ${listType === 'favorites' ? 'card favorite-item five wide column' : null} `}\r\n                    key={idx}>\r\n                    <div\r\n                        className=\"header\"\r\n                        key={city.Key}\r\n                        onClick={() => props.onSelect(city)}\r\n                        tabIndex=\"0\">\r\n                        <i className={`${city.Country.ID.toLowerCase()} flag`}></i>\r\n                        {city.LocalizedName}\r\n                    </div>\r\n                    <div\r\n                        className=\"description\"\r\n                        onClick={() => toggleFavoriteCity(city)}\r\n                        key={city.LocalizedName}>\r\n                        <i className=\"plus circle icon\"></i>\r\n                        {isInFavorites ? 'Remove from Favorites' : 'Add to Favorites'}\r\n                    </div>\r\n                </div>)\r\n        })\r\n    }\r\n    return (<div className={listType==='favorites'?'ui container' : null}>\r\n        <div className={listType==='favorites'&& favoritesToDisplay.length ? 'ui relaxed grid ' : 'ui divided list'}>\r\n            {listType === 'searchOptions' && renderContents(cityList)}\r\n            {listType === 'favorites' && renderContents(favoritesToDisplay)}\r\n            {listType === 'favorites' && !favoritesToDisplay.length &&<div className=\"favorites-empty-msg\"> <p>\r\n                It seems awfully empty in here! Why not search some cities, and add them to your favorites?</p></div>}\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default List","import { React, useState, useEffect, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrCity, searchCity } from '../store/actions/index'\r\nimport List from '../cmps/List'\r\n\r\n\r\nconst SearchBar = () => {\r\n    const dispatch = useDispatch()\r\n    const [city, setCity] = useState('')\r\n    const [display, setDisplay] = useState(false)\r\n    const wrapperRef = useRef(null)\r\n    const currCity = useSelector((state) => state.city.LocalizedName)\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleOutsideClick)\r\n        setCity(currCity)\r\n        return () => document.removeEventListener(\"mousedown\", handleOutsideClick)\r\n    }, [currCity])\r\n\r\n\r\n    const handleOutsideClick = (ev) => {\r\n        const { current: wrap } = wrapperRef\r\n        if (wrap && !wrap.contains(ev.target)) setDisplay(false)\r\n    }\r\n\r\n    const onSearchType = async (ev) => {\r\n        ev.preventDefault()\r\n        setCity(ev.target.value)\r\n        dispatch(searchCity(city))\r\n    }\r\n    const onSelect = (city) => {\r\n        // ev.preventDefault()\r\n        setCity(city.LocalizedName)\r\n        dispatch(setCurrCity(city))\r\n    }\r\n\r\n\r\n    return (\r\n        <div\r\n            ref={wrapperRef}\r\n            className=\" \">\r\n                <h3> Search a City...</h3>\r\n            <input type=\"text\"\r\n                placeholder=\"Type to Search...\"\r\n                onChange={onSearchType}\r\n                value={city}\r\n                onClick={() => setDisplay(!display)}\r\n            />\r\n            <div\r\n                className=\"options-list\"\r\n                style={display ? { transform: 'scaleY(1)' } : { transform: 'scaleY(0)' }}>\r\n                <List onSelect={onSelect} listType={'searchOptions'} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import { React, useEffect, useState } from 'react'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getWeather } from '../store/actions/index'\r\n\r\nconst WeatherDisplay = () => {\r\n    const dispatch = useDispatch();\r\n    const currCity = useSelector((state) => state.city);\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const unit = useSelector((state) => state.unit);\r\n    const weather = useSelector((state) => state.weather);\r\n    const [msg, setMsg] = useState('Loading...')\r\n    const [msgHeader, setMsgHeader] = useState('Loading')\r\n\r\n    let icon;\r\n\r\n    useEffect(() => {\r\n        dispatch(getWeather(currCity))\r\n    }, [dispatch, currCity]);\r\n\r\n    (function () {\r\n        if (weather.DailyForecasts) { dayMode ? icon = weather.DailyForecasts[0].Day.Icon : icon = weather.DailyForecasts[0].Night.Icon }\r\n        else setTimeout(() => {\r\n            setMsg(`We're having some technical difficulties! Please try again later.`)\r\n            setMsgHeader('Error')\r\n        }, 2000);\r\n    })()\r\n\r\n    const renderImg = () => {\r\n        if (!icon) return\r\n        else if (icon < 10) return <img src={`https://developer.accuweather.com/sites/default/files/0${icon}-s.png`} alt=\"weather icon\" />\r\n        else return <img src={`https://developer.accuweather.com/sites/default/files/${icon}-s.png`} alt=\"weather icon\" />\r\n    }\r\n    const renderDegrees = (dayNum) => {\r\n        if (!icon) return\r\n        const degrees = dayMode ? weather.DailyForecasts[dayNum].Temperature.Maximum.Value : weather.DailyForecasts[dayNum].Temperature.Minimum.Value\r\n        return unit ? Math.floor(degrees) : Math.floor(degrees * 9 / 5 + 32)\r\n    }\r\n\r\n    const renderFiveDays = () => {\r\n        if (!icon) return\r\n        return weather.DailyForecasts.map((day, idx) => {\r\n            dayMode ? icon = weather.DailyForecasts[idx].Day.Icon : icon = weather.DailyForecasts[idx].Night.Icon\r\n            const message = dayMode ? weather.DailyForecasts[idx].Day.ShortPhrase : weather.DailyForecasts[idx].Night.ShortPhrase\r\n            return <div className=\" ui card\"\r\n                key={idx}>\r\n                <div className=\"content\">\r\n                    <h3 className=\"header\">\r\n                        {currCity.LocalizedName} <span>{day.Date.substring(5, 10)}</span>\r\n                    </h3>\r\n                    <p className=\"ui description\">\r\n                        {renderImg()}\r\n                        {renderDegrees(idx)} °\r\n                </p>\r\n                    <p>{message}</p>\r\n                    <a href={weather.Headline.Link}>See More</a>\r\n                </div>\r\n            </div>\r\n        })\r\n    }\r\n\r\n    return (<>\r\n        <div>\r\n            {!weather.DailyForecasts &&\r\n                <div className=\"ui card\">\r\n                    <div className=\"content\">\r\n                        <h4 className=\"header\">{msgHeader}</h4>\r\n                        <p>{msg}</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n        {weather.DailyForecasts &&\r\n            <div>\r\n                {renderFiveDays()}</div>}\r\n\r\n    </>)\r\n}\r\n\r\nexport default WeatherDisplay","import React from 'react'\r\nimport SearchBar from '../cmps/SearchBar'\r\nimport WeatherDisplay from '../cmps/WeatherDisplay'\r\n\r\n\r\nconst Weather = () => {\r\n    return (\r\n        <div className=\"ui container \">\r\n            <SearchBar />\r\n            <WeatherDisplay/>\r\n        </div>\r\n    );\r\n}\r\nexport default Weather;","import { React } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport List from '../cmps/List'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrCity } from '../store/actions/index'\r\n\r\n\r\nconst Favorites = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    const onSelectCity = (city) => {\r\n        dispatch(setCurrCity(city))\r\n        history.push('/')\r\n    }\r\n    return (\r\n        <div className=\"favorites-page\">\r\n            <p>Below you'll find your favorites. Clicking a favorite city will show you it's weather forecast.</p>\r\n            <div className=\"ui horizontal divider\">\r\n                Your Favorites\r\n</div>\r\n            <List onSelect={onSelectCity} listType={'favorites'} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Favorites;","import { React, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { toggleUnit, toggleMode } from '../store/actions/index'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch()\r\n    const unit = useSelector((state) => state.unit)\r\n    const dayMode = useSelector((state) => state.dayMode)\r\n    const date = new Date()\r\n    const hours = date.getHours()\r\n    useEffect(() => {\r\n        if (hours < 18 && hours < 5) dispatch(toggleMode)\r\n    }, [hours])\r\n    const renderUnit = () => {\r\n        return unit ? 'C' : 'F'\r\n    }\r\n    const renderDayMode = () => {\r\n        return dayMode ? <><i className=\"sun icon\"></i>Day Mode</> : <><i className=\"moon icon\"></i>Night Mode</>\r\n    }\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"item\">\r\n                <h3>Weather</h3>\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/favorites\" className=\"item\">\r\n                    <h3>Favorites</h3>\r\n                </Link>\r\n                <button\r\n                    className=\" ui button\"\r\n                    onClick={() => dispatch(toggleUnit)}>\r\n                    {renderUnit()}°\r\n                        </button>\r\n                <button\r\n                    className=\" ui labeled icon button\"\r\n                    onClick={() => dispatch(toggleMode)}>\r\n                    {renderDayMode()}\r\n                    \r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Header;","import React from 'react'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport './style.css'\r\nimport './media-query.css'\r\nimport './dark-mode.css'\r\nimport Weather from './views/Weather'\r\nimport Favorites from './views/Favorites'\r\nimport Header from './cmps/Header'\r\n\r\nconst App = () => {\r\n  return (\r\n    \r\n    <div className=\"ui  container\">\r\n      <BrowserRouter >\r\n        <Header />\r\n        <div className=\"App ui container  app-main\">\r\n          <Route path=\"/favorites\" exact component={Favorites} />\r\n          <Route path=\"/\" exact component={Weather} />\r\n        </div>\r\n      </BrowserRouter >\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nconst defaultCity = {\r\n    \"Version\": 1,\r\n    \"Key\": \"215854\",\r\n    \"Type\": \"City\",\r\n    \"Rank\": 31,\r\n    \"LocalizedName\": \"Tel Aviv\",\r\n    \"Country\": {\r\n        \"ID\": \"IL\",\r\n        \"LocalizedName\": \"Israel\"\r\n    },\r\n    \"AdministrativeArea\": {\r\n        \"ID\": \"TA\",\r\n        \"LocalizedName\": \"Tel Aviv\"\r\n    },\r\n    \"id\": \"WM8brNU\"\r\n}\r\nexport default (state = defaultCity, action) => {\r\n    switch (action.type) {\r\n        case 'SET_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\nexport default async (state = [], action) => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_FAVORITES':\r\n            return action.payload;\r\n        case 'GET_FAVORITES':\r\n            return  action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport cityListReduer from './cityListReducer'\r\nimport weatherReducer from './weatherReducer'\r\nimport selectedCityReducer from './selectedCityReducer'\r\nimport favoritesReducer from './favoritesReducer'\r\nimport unitReducer from './unitReducer'\r\nimport modeReducer from './modeReducer'\r\n\r\nexport default combineReducers(\r\n    {\r\n        cityList: cityListReduer,\r\n        weather: weatherReducer,\r\n        city: selectedCityReducer,\r\n        favoriteCities: favoritesReducer,\r\n        unit: unitReducer,\r\n        dayMode: modeReducer\r\n    }\r\n);\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'SEARCH_CITY':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'GET_WEATHER':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = true, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_UNIT':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = true, action) => {\r\n    switch (action.type) {\r\n        case 'TOGGLE_MODE':\r\n            return !state\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './store/reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}